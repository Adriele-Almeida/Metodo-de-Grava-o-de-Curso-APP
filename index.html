import React, { useState } from 'react';
import { ChevronDown, ChevronRight, Sparkles, Cpu, Globe, Code, BookOpen, Gift, FileText, DollarSign } from 'lucide-react';

const MindMap = () => {
  const [expandedNodes, setExpandedNodes] = useState({
    root: true,
    apresentacao: false,
    modulo1: false,
    modulo2: false,
    modulo3: false,
    modulo4: false,
    modulo5: false,
    finalizacao: false,
    arsenal: false,
    bonus: false
  });

  const toggleNode = (nodeId) => {
    setExpandedNodes(prev => ({
      ...prev,
      [nodeId]: !prev[nodeId]
    }));
  };

  const NodeCard = ({ id, title, icon: Icon, children, color, glow }) => {
    const isExpanded = expandedNodes[id];
    
    return (
      <div className="mb-3">
        <div
          onClick={() => toggleNode(id)}
          className={`cursor-pointer p-4 rounded-lg border-2 transition-all duration-300 ${color} ${glow} backdrop-blur-sm hover:scale-105`}
        >
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <Icon className="w-6 h-6" />
              <span className="font-bold text-lg">{title}</span>
            </div>
            {children && (
              isExpanded ? <ChevronDown className="w-5 h-5" /> : <ChevronRight className="w-5 h-5" />
            )}
          </div>
        </div>
        
        {isExpanded && children && (
          <div className="ml-8 mt-3 space-y-2 border-l-2 border-cyan-500/30 pl-4">
            {children}
          </div>
        )}
      </div>
    );
  };

  const ContentItem = ({ number, text, notes }) => (
    <div className="p-3 rounded-lg bg-gradient-to-r from-slate-800/50 to-slate-900/50 border border-cyan-500/20 hover:border-cyan-400/40 transition-all">
      <div className="flex items-start gap-2">
        <span className="text-cyan-400 font-mono text-sm mt-0.5">{number}.</span>
        <div className="flex-1">
          <p className="text-gray-200">{text}</p>
          {notes && notes.map((note, idx) => (
            <div key={idx} className="mt-2 p-2 bg-yellow-500/10 border-l-2 border-yellow-500/50 rounded text-sm text-yellow-200">
              üí° {note}
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-950 p-8 text-white font-sans">
      {/* Header */}
      <div className="text-center mb-12">
        <h1 className="text-5xl font-bold mb-4 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
          O C√≥digo do Novo Digital
        </h1>
        <div className="h-1 w-64 mx-auto bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600 rounded-full"></div>
        <p className="mt-4 text-cyan-300 text-lg">Mapa Mental Interativo do M√©todo</p>
      </div>

      <div className="max-w-4xl mx-auto">
        {/* Apresenta√ß√£o Pessoal */}
        <NodeCard
          id="apresentacao"
          title="1. Minha Apresenta√ß√£o Pessoal Super Breve"
          icon={Sparkles}
          color="bg-gradient-to-r from-purple-900/40 to-pink-900/40 border-purple-500/50"
          glow="shadow-lg shadow-purple-500/20"
        >
          <div className="space-y-3">
            <div className="p-4 rounded-lg bg-gradient-to-r from-purple-800/30 to-pink-800/30 border border-purple-400/30">
              <h3 className="font-bold text-cyan-300 mb-3">2. Apresenta√ß√£o do M√©todo</h3>
              
              <div className="space-y-3">
                <ContentItem number="‚Ä¢" text="O que o aluno vai precisar" />
                
                <div className="p-3 rounded-lg bg-slate-800/50 border border-cyan-500/20">
                  <p className="text-gray-200 mb-2">E-mail e contas nas plataformas:</p>
                  <div className="ml-4 space-y-1 text-cyan-300">
                    <p>‚Ä¢ Gemini</p>
                    <p>‚Ä¢ ChatGPT</p>
                    <p>‚Ä¢ Claude</p>
                    <p>‚Ä¢ GitHub</p>
                    <p>‚Ä¢ Google AI Studio</p>
                  </div>
                </div>

                <ContentItem 
                  number="‚Ä¢" 
                  text="Se tiver inten√ß√£o de vender, deve se cadastrar na Kiwify"
                />

                <div className="mt-3 p-3 bg-yellow-500/10 border-l-2 border-yellow-500/50 rounded text-sm text-yellow-200">
                  üí° Aqui eu dou abertura ao curso com o slide e j√° apresentando as plataformas.
                </div>
                
                <div className="p-3 bg-yellow-500/10 border-l-2 border-yellow-500/50 rounded text-sm text-yellow-200">
                  üí° Deixar os links na descri√ß√£o
                </div>
              </div>
            </div>
          </div>
        </NodeCard>

        {/* M√≥dulo 1 - Claude */}
        <NodeCard
          id="modulo1"
          title="M√≥dulo 1 ‚Äì Claude"
          icon={Cpu}
          color="bg-gradient-to-r from-cyan-900/40 to-blue-900/40 border-cyan-500/50"
          glow="shadow-lg shadow-cyan-500/20"
        >
          <ContentItem number="1" text="Introdu√ß√£o: o que √© e para que serve" />
          <ContentItem number="2" text="Artefatos: est√°tico vs interativo" />
          <ContentItem number="3" text="Como criar artefatos" />
          <ContentItem number="4" text="Como criar artefatos interativos" />
          <ContentItem number="5" text="Ideias de artefatos" />
          <ContentItem number="6" text="Preparando artefatos em arquivo HTML" />
        </NodeCard>

        {/* M√≥dulo 2 - Gemini */}
        <NodeCard
          id="modulo2"
          title="M√≥dulo 2 ‚Äì Gemini"
          icon={Sparkles}
          color="bg-gradient-to-r from-blue-900/40 to-indigo-900/40 border-blue-500/50"
          glow="shadow-lg shadow-blue-500/20"
        >
          <ContentItem number="1" text="Introdu√ß√£o: o que √© e para que serve" />
          <ContentItem number="2" text="Criando app" />
          <ContentItem number="3" text="Criando sites" />
          <ContentItem number="4" text="Ideias de app e sites" />
          <ContentItem number="5" text="Preparando arquivos html" />
        </NodeCard>

        {/* M√≥dulo 3 - Google AI Studio */}
        <NodeCard
          id="modulo3"
          title="M√≥dulo 3 ‚Äì Google AI Studio"
          icon={Code}
          color="bg-gradient-to-r from-indigo-900/40 to-violet-900/40 border-indigo-500/50"
          glow="shadow-lg shadow-indigo-500/20"
        >
          <ContentItem number="1" text="Introdu√ß√£o: o que √© e para que serve" />
          <ContentItem number="2" text="Chave key Gemini" />
          <ContentItem number="3" text="Apresentando a plataforma" />
          <ContentItem number="4" text="Possibilidades" />
          <ContentItem number="5" text="Criando um app" />
          <ContentItem number="6" text="Modificando ou personalizando um app" />
          <ContentItem number="7" text="Duplicando um app" />
          <ContentItem number="8" text="Preparando os arquivos para html" />
          <ContentItem number="9" text="Cuidados na hora de vender ou compartilhar os projetos" />
          <ContentItem number="10" text="Boas pr√°ticas" />
          <ContentItem number="11" text="Dicas de organiza√ß√£o" />
          <ContentItem number="12" text="B√¥nus: app de presente" />
        </NodeCard>

        {/* M√≥dulo 4 - ChatGPT */}
        <NodeCard
          id="modulo4"
          title="M√≥dulo 4 ‚Äì ChatGPT"
          icon={Globe}
          color="bg-gradient-to-r from-violet-900/40 to-purple-900/40 border-violet-500/50"
          glow="shadow-lg shadow-violet-500/20"
        >
          <ContentItem number="1" text="Introdu√ß√£o: o que √© e para que serve" />
          <ContentItem number="2" text="Agente GPT Suporte" />
          <ContentItem number="3" text="Agente GPT refinador de metaprompt" />
          <ContentItem number="4" text="Algo deu errado? Dicas de como resolver" />
        </NodeCard>

        {/* M√≥dulo 5 - GitHub */}
        <NodeCard
          id="modulo5"
          title="M√≥dulo 5 ‚Äì GitHub"
          icon={Code}
          color="bg-gradient-to-r from-purple-900/40 to-fuchsia-900/40 border-purple-500/50"
          glow="shadow-lg shadow-purple-500/20"
        >
          <ContentItem number="1" text="Introdu√ß√£o: o que √© e para que serve" />
          <ContentItem number="2" text="Como subir um site ou app" />
          <ContentItem number="3" text="Boas pr√°ticas" />
          <ContentItem number="4" text="Dicas de suporte" />
        </NodeCard>

        {/* Finaliza√ß√£o */}
        <NodeCard
          id="finalizacao"
          title="V√≠deo de Finaliza√ß√£o e Agradecimento"
          icon={Gift}
          color="bg-gradient-to-r from-fuchsia-900/40 to-pink-900/40 border-fuchsia-500/50"
          glow="shadow-lg shadow-fuchsia-500/20"
        />

        {/* Material Did√°tico */}
        <NodeCard
          id="arsenal"
          title="Material Did√°ticos"
          icon={BookOpen}
          color="bg-gradient-to-r from-emerald-900/40 to-teal-900/40 border-emerald-500/50"
          glow="shadow-lg shadow-emerald-500/20"
        >
          <div className="p-4 rounded-lg bg-gradient-to-r from-emerald-800/30 to-teal-800/30 border border-emerald-400/30">
            <h3 className="font-bold text-cyan-300 mb-2">Arsenal: Guias com passo a passo</h3>
            <p className="text-gray-300 italic">Arquivos em PDF ou links como app interativo?</p>
          </div>
        </NodeCard>

        {/* B√¥nus */}
        <NodeCard
          id="bonus"
          title="B√¥nus: Como Vender na Kiwify"
          icon={DollarSign}
          color="bg-gradient-to-r from-amber-900/40 to-orange-900/40 border-amber-500/50"
          glow="shadow-lg shadow-amber-500/20"
        >
          <div className="p-4 rounded-lg bg-gradient-to-r from-amber-800/30 to-orange-800/30 border border-amber-400/30">
            <p className="text-gray-300 italic">PDF ou interativo?</p>
          </div>
        </NodeCard>
      </div>

      {/* Footer */}
      <div className="text-center mt-12 text-gray-400 text-sm">
        <p>Clique nos cards para expandir e explorar o conte√∫do</p>
      </div>
    </div>
  );
};

export default MindMap;
